<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
<head>
   
<title>LabQakExamples2021 - es0</title></head>
    
<body>
<div id="top">
<h1>LabQakExamples2021 - Case Study - es0 <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
 
 
<h2>Requirements</h2>

 
<div class="remark">

<k>es0</k>: Design and build a software system (named<em>workshift</em>) that allows to manage a machine according to three turns:

<ol>
<li>in the first turn (in the morning) the machine is able to handle messages (dispatches) of type <tt>m1:m1(V)</tt></li>
<li>in the second turn (in the afternoon) the machine is able to handle messages (dispatches) of type <tt>m2:m2(V)</tt></li>
<li>in the third turn (in the nigth) the machine 'sleeps'</li>
</ol>

Messages of types <tt>m1</tt> and <tt>m2</tt> can be sent by external entities at every time.

</div>

 

<h2>Requirement analysis</h2>
 The consumer requires to design a simple system (using the <em>QA-System</em> given by the same consumer) that manages a machine in order to make it able to handle two different types of message in two dedicated time periods. The system must reproduce three different period (morning, afternoon and night) and the requirements say that:

 <ul>
     <li><k>m1</k> messages must be handled only in the <k>morning</k>;</li>
     <li><k>m2</k> messages must be handled only in the <k>afternoon</k>;</li>
     <li>the machine must be <k>inactive</k> during the <k>night</k> (it sleeps);</li>
 </ul>

 Then, the system must reproduce the <i>flow of the days</i> of the reality but <k>nothing is specified about the duration</k> of the periods by the consumer.</br>
 Finally, the consumer specify that <tt>m1</tt> and <tt>m2</tt> messages can be sent by external entities at every time:
 <ul>
     <li>the <em>QA-System</em> implicitly let to receive message over the network, then the requirement of the <k>external entities</k> is already satisfied by using a <em>context</em> appropriately set (see <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.qakactor/userDocs/LabQakIntro2021.html" target="web">QAK21Intro</a>);</li>
     <li>messages can be sent <i>at every time</i> so it means that a certain type of message can be received even if the machine isn't in the period dedicated to handle it; also this requirement is directly satisfied by the <em>QA-System</em> that provided a mechanism to enqueue messages.</li>
 </ul>

<table style="width:98%">
    <tr>
        <td style="width:60%">
            According to the tools provided by the <em>QA-System</em>, in order to meet the requirements and realize the new system, we need to introduce two actors:
            <ul>
                <li><em>workshiftactor</em> that is the machine handling the two type of messages in their dedicated period;</li>
                <li><em>clockactor</em> that represents a sort of clock that <i>regulates</i> the flow of the periods by emitting <k>events.</k></li>
            </ul>
        </td><td>
            <center><div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;nav&quot;:true,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;Electron\&quot; modified=\&quot;2021-05-17T00:20:19.663Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.6.13 Chrome/89.0.4389.128 Electron/12.0.7 Safari/537.36\&quot; etag=\&quot;gssVOHVcMqGp3nNJr9FE\&quot; version=\&quot;14.6.13\&quot; type=\&quot;device\&quot;&gt;&lt;diagram id=\&quot;QHmdKqOJvXkrERRnRs30\&quot; name=\&quot;Pagina-1\&quot;&gt;7Vddk5owFP01PDpD+IjsY7W6fdn2wYdOH2O4QGogbIgF++sbJFEQtqtTd6cz7YvCOfm655ybUcdf5s2jJGX2JGLgjufGjeN/dDwvCj392QKHDggegg5IJYs7CJ2BDfsJBnQNumcxVIOBSgiuWDkEqSgKoGqAESlFPRyWCD7ctSQpjIANJXyMfmWxykxZ3vyMfwKWZnZnhB86Jid2sKmkykgs6h7krxx/KYVQ3VPeLIG32lldunnrF9jTwSQU6poJa1yntay/IbEov/jfV4vq+WlmVvlB+N4UbA6rDlYBKfZFDO0iyPEXdcYUbEpCW7bWlmssUzk3dMI4Xwou5HGuHxOIEqrxSkmxgx6DaQTbRDPjMuyZQCpoepAp6xFEDkoe9BDDeshkymQMWcnrs2P+A+6wrO/W3AwkJiXpae2zkPrBaHmDrt5IV6qaWshdlbFE/UZj92aNkyTxaKtxIgq1JjnjrQxLsZcMpN7mM9SG3JgNkX3vug2FUwbFeItDfB+D/PDCIHds0Mm0vkHBW/njT+Qec2WEGZiDn/fCErPqKNkHPQAFZXMm9VNqvo+rbC3Q89ww0lKEKiEtrKvYXi6ise40Fr5Ija5TX4PwemJIVXZ3Y8KaNmVXRKUXjYu8AYpDmE9FZhGFQejeqaexO4wMnogMmojMCbx7ZoLX70olGSlSfoUlf+JAElGgk7fq1joghSKKiULDMxTdzZP50JNg7AkOJro4fCNHwvfqYsoF3f3v4JvS0i70l3Uw/tc7OAjfrYP16/m37ZHr/UHwV78A&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
                <script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script></script></center>
        </td>
    </tr>
</table>

</div>

<h2>Problem analysis</h2>
<a href="https://github.com/LM-96/MarchegianiLuca/blob/it.unibo.workshift/src/workshift.qak" target="web">workshift.qak</a></br>
Zooming into the actors, we can say that:
<ul>
    <li>the <em>clockactor</em> simulate the flow of the time transiting into the states releated to the <i>three periods</i> (morning, afternoon and night), <k>emitting an event when entering in a state</k> and wait a certain time before passing to the next.
        <center><div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;Electron\&quot; modified=\&quot;2021-05-17T00:20:59.552Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.6.13 Chrome/89.0.4389.128 Electron/12.0.7 Safari/537.36\&quot; etag=\&quot;jeTZeZp9dvGQ5QlERcbL\&quot; version=\&quot;14.6.13\&quot; type=\&quot;device\&quot;&gt;&lt;diagram id=\&quot;E3m1zYJ6w710DkJ9oPEd\&quot; name=\&quot;Pagina-1\&quot;&gt;7Vpbd9o4EP41nNM8kOMLduAxQNI+tDm7SXt292mPsGWj1pZcWQmwv35HloQv2AaakKRt8pBYM/JImvm+mRFk4M7S9XuOsuUnFuJk4FjheuDOB44z9hz4LQUbJRhNRkoQcxIqkV0K7sh/WAstLb0nIc5rEwVjiSBZXRgwSnEgajLEOVvVp0Usqa+aoRjvCO4ClOxK/yKhWOpjORel/AMm8dKsbPsTpUmRmaxPki9RyFYVkXs1cGecMaGe0vUMJ9J3xi/qvesO7XZjHFNxyAvu+M/FRfzh5iv/EorP75e3n2+doQ7GA0ru9YH1ZsXGeCDm7D7bXUyv/4C5wOu2UKCFsVCeFlCCWYoF38A885alHaQRYrt6vCr9PdGiZc3VWoh0iOOt6dIL8KAdcYRT7Ban+AksO40YHL/qHf/7PTOKYV6g9xIm2F62LpXwFMu/hBJhLMHGlDGl2vE6bBMgDoPpakkEvstQIDUrIBnIliKFE81teER5pnAfkTUO9VauUUoS6c8Zu+cEc7B9g1daeadXsc1YkQ7CBGOSJDOWMF7swo2iyAkCkOeCs2+4ogn9he/5251XkdELtCZcdmGhYeAchoLJqUDg7GfGwTHaH5LuEIQIj6PWEPjBGC+iU4RAa92LnRDY/m4InJPxsJuIi5I4SpBniB7ETDuTDC7etBJC8dAcRfH23J+4bht5B7OrwdSr0FetqJTDtKJYdJM6hNqih4yLJYsZRclVKZ1CrqWhpPFcbrGc85GxTIPpKxZiowGD7gWrQy1BC5xMUfAtLkwZuFBG8RFAtD0YYxpeygoqN5thqiTXRMaw2B2MzHSnFYU6fDmsE+CeOGtMCcRj3AdgXVmlFw+B79A6t22DIVNcPDXkOEGCPNSLfBuAtfU/GCkyv5nCoiiHvTYRvt3EQaC//PchnfrIGfu3vhdt4i90+n1/8YlQUEd4PY67wO2ijLYXbDNK+aYbBJbl+7vGcNpTwqx8RUSwfJcyTgmNz9o5cWD9Oz1VQpQvi/ft48HeQTNVMuHnKfiwF+c/CmKT3h2vxg3XbSRyRUj91qOQ3nfMCtI1cF5BM1QkwGYl9vA4HLVV4rGzcP32ZqirTe7MWs640Q57L9wIjZ+9CFvQd3hPVIH1TnlTksnMl6A8r+3zU85uGE9R0p1GwXz2klnrqBLe3w00ctq+FPjjCc1c3PcV+EMTn6bGa6rl7eduu0S8NbC/XAM7ORDf5hOLX7uD7QV9C8B1Ayrhy+PFO0ui24GlrcrT2RbyBR0iDYHLYoaP0ky1re6osGdgQYt+uK6tG6rxat3QqZ1KJdVFwdAOEIz5EAgUyHalbQpUezFECYmpUgcAqmJPFTUBplBNXKuyeqEUHNE8AqPGPODfTFgxHtZXr76+2JJn2HCt43lblzaez7or3pPfE6oJbytTUaKLPKsX2+o0fb9AEbiSMkY7bhgvfJU44G7w3Jnp1FcJz3rZq8RkJ+VsMfJbXyZG/iu7TNjuS9ATHMg3f8v3zz0z/GdLNRjM17XRRo9+xl7E9BhP1mwflxrgkGhTmZBJyufdmcMf1zOH+Tbo+sAPLRrz4UHt4Gn7+LavyX72Pv6jBHcj46l+Za6bFXcqMw0JUHKpFSkJQ0VJDCfR3/DJM+gwg3FvOvDmbfmvjy39RNslQ29uefxXkrLvdiY1nA3dx7XdxnLT7EXdwum6crcPwm9d+VtX/tiuvP9T/7ee/PhPAR6Za5ql9bmbcnPOSsqhRYX7nTtyf/RsHTkMy/8uUkEt/0XLvfof&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script></center>
    </li>

    <li> the <em>workshiftactor</em> also transits in three state (one for each period) and wait for messages with the type described by the requirements; when an handable message was received, the actor transists to the relative <i>handling state</i>, then immediately return to the previous state when finish to process the message.
        <center><div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;Electron\&quot; modified=\&quot;2021-05-17T00:18:43.306Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.6.13 Chrome/89.0.4389.128 Electron/12.0.7 Safari/537.36\&quot; etag=\&quot;xj0s8kj2QhTeVB6QxEay\&quot; version=\&quot;14.6.13\&quot; type=\&quot;device\&quot;&gt;&lt;diagram id=\&quot;E3m1zYJ6w710DkJ9oPEd\&quot; name=\&quot;Pagina-1\&quot;&gt;7Vpbl5s2EP41Pqd9sA+Ii+Exe0nykOSk2fa0fZRBYCUYUcHGdn99R0gyCDC2d9exT7P7sItGYjTMfHPRaCfO7WrzjuNi+ZHFJJsgK95MnLsJQoGH4LcgbCXBDV1JSDmNJcluCA/0X6KIlqI+0piUxsKKsayihUmMWJ6TqDJomHO2NpclLDN3LXBKeoSHCGd96p80rpbqs9C8ob8nNF3qnW0/lDMrrBerLymXOGbrFsm5nzi3nLFKPq02tyQTutN6ke+93TO7E4yTvDrmBSf4bTFP33/6yv+Iq9/fLb/8/gVNlTG+4+xRfbASttpqDaScPRb9zdT+3wmvyGbIFHihOTRfCyghbEUqvoV1+i1LKUghxHbUeN3oO1SkpaFqRcTKxOmOdaMFeFCKOEEp9oBS/Ay2vUkYfH5bO/4/j0xPTMsavW9gge0Vm2YSnlLxl+a00pxAMMlMTvW0DmICxGFws17SijwUOBIza3AyoC2rFXzRnQ2PuCwk7hO6IbES5S1e0Uzo85Y9cko48P5E1mryQe1i67F0OjATjGmW3bKM8VoKJ0kSFEVALyvOvpHWTOwvfM/fSd5GxijQunDpw0LBAB2HgvBcIECHPeNoGx02yX4TxJgEyaAJ/Cggi+QcJlCzzrxnAtvvmwCdzQ/3O+JCO065plW0bHnVYr9LxRDZ1ZDxaslSluPsvqHeQKTLY+FEd8IQzZoPjBXKlF9JVW2VufBjxUxDZ3hBshscfUtrVtpYOcvJCTCwPRiTPH4j8pcQtiC5pLylQoO1dDDSy9EgBpTyStgnIiNaVhatME/JGHxUXhNaPAY8U2tm29qCOrR7cshJhiv63UyxQ/BR3D8zWsddvYQlSQmydvG1E+IZkPMPQ25lXwvcwNZ8+5d4f+a6jib8XRMsy9eEu80OM2K0VaPLgZVsaKXEtgI1llKHoa3GjdBisG0NPhNOwc6Et7+qS3y2P5yAc1D13MD5VIfEpwJdB2Dbn80Dq/lxjG2Q24m88tsUk3YpOMA3MEV2LGvmuSY7GRJ67MDSeNtaVogF5dhXmFshzzog3eh6eJAS/PDg0I8NK8ZzmqdXUL3VbtgtHTwSxO5Q6RCgheMPV2/76vq9DoCCTv3uXbhyCw6HcE0oC5wfVc/bhYBY/aaV0ZxM9ZfUsxYA1uvX+5Pb+8mN10oWcjs5OV0NZxElKe9SCnGyynBZGnJ+LNknxlc4G9i9YV9cMkmdlEjGc1I3jRzIOk/PAbrTcKgmOjZXKNe4/vJn6NQDH+nYUp/tR+1RA94TSbMJ3+Dp4hdwdBDH0n9+lW5Uu1iigCGWwvt4JeLjjovGSg5Y6Uy2eHSO3a0JKZiYyaWTSP8FuBI+BWeMROzuzUPcq6Y4o2ku5yKAj6grdnMUHCJXvm/pHeuZiuO8TICX5lrDVsRCxmNzx92Lix3apx29ITeQKkNuqB48pb2us48dg4bt93o4OiYQhEcGAt2L+n+fjsJedMAJuEbOWP5Tl0Cuf2UlkO1c+DjqGYfRqz2IPqNCsF64RDjN6089g/mBZyLUOnAGQ6PrzTPYi1UfQ7cRY3XGaXlwwCE+COR1wpFM/He7rC/CAI1w9kZNrGgcS38hUHmoWw6BLWUDYO7dTLy7oeA0BuVxL+gjddTxn38tIzIUCg0QTJ3nJSjNuct2bnI4Y3lr9QCW19H4Z05evnttyWs+FgbOcoD3Zn7oOEN3dk86w1829Qa7xq/uqe5aw3sS8GAH9Rraw57nTNrtYdEBPbU9vNdFXix1K0cS4s3NtPlijWAHzebzViPYNbYRzVs0MH1yX3h8G+RCTghM1nt6xD+0aeH14sUS55CjP+pi7toCe5IQf8+1+jxcWKOofXpj1rEuHNjRaH2nLtfQFYbU18u1I0PqNVyauaE/m9th82PGMCec2WErxHlPC5Vil6AVKs1WTn2b5rRk8I+Kmqee6tzwtJu1A+svd7OG+iH8teR7LflevOS7glLOs0WNNVC+PS0O1ew6ZRqEOKfD7hll2qlBybM7/6UQjgelA+vP02pC/bt8VTOin7pm7Hayz1gzwrD552dp1+Y/yJ37/wA=&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script></center>
    </li>
</ul>
In the <a href="https://github.com/LM-96/MarchegianiLuca/blob/it.unibo.workshift/src/workshift.qak" target="web">workshift.qak</a> file, we also added two sender in order to make a more complete example.

 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/>
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:center;color:white; margin: auto">
<p>By student</br>
    Name: Luca Marchegiani</br>
    Email: luca.marchegiani3@studio.unibo.it</br>
    Git Repo:  <a href="https://github.com/LM-96/MarchegianiLuca" target="web" style="color:white">https://github.com/LM-96/MarchegianiLuca</a></p>
<img src="./img/profile_2.png" alt="mbot" width="40%" height="40%">
</div> 
</body>
</html>